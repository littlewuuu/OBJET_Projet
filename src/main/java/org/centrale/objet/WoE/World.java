/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package org.centrale.objet.WoE;

import java.util.Random;
import java.util.ArrayList;

/**
 * The class {@link org.centrale.objet.WoE.World} represents a world that contains different roles 
 * like {@code Personnage}({@code Archer},{@code Paysan}, {@code Guerrier}) and {@code Monstre}({@code Lapin}, {@code Loup}), 
 * the role {@link Personnage} can attack {@link Monstre} through the method {@link org.centrale.objet.WoE.Guerrier#combattre(org.centrale.objet.WoE.Creature) combattre}, 
 * it can also restore vitality through the use of {@code PationSoin}.
 * @author wuzilong 
 * @author ZouKang
 * @version 1.0
 */

public class World {
    
    /**
     * Representing an {@code Archer}({@code Personnage}) in the world
     */
    public Archer robin;
    /**
     * Representing a Paysan(Personnage) in the world
     */
    public Paysan peon;
    /**
     * Representing a Lain(Monstre) in the world
     */
    public Lapin bugs1;
    /**
     * Representing another Lapin(Monstre) in the world
     */
    public Lapin bugs2; //new attribute
    /**
     * Representing an Archer(Personnage) in the world
     */
    public Archer guillaumeT;
    /**
     * Representing a Guerrier(Personnage) in the world
     */
    public Guerrier grosBill;//new
    /**
     * Representing a Loup(Monstre) in the world
     */
    public Loup wolfie;//new
    
    /**
     * 
     */
    public void tourDeJeu() {

    }
    

    public void aficheWorld() {

    }
    
    /**
     * Default parameterless constructor
     */
    public World() {
    }

    /**
     * Generate a random world with the coordinates of the Creature randomly generated by {@link java.util.Random}
     */
    public void creerMondeAlea() {
        //create some roles
        bugs1 = new Lapin();
        bugs2 = new Lapin();

        robin = new Archer("robin");
        peon = new Paysan("peon");

        grosBill = new Guerrier("grosBill");

        wolfie = new Loup();

        Random generateurAleatoire = new Random();
        Point2D points[] = new Point2D[6];

        int i = 1;
        int X = generateurAleatoire.nextInt(100) - 50;
        int Y = generateurAleatoire.nextInt(100) - 50;
        points[0] = new Point2D();
        points[0].setPosition(X, Y);

        while (i < 6) {
            X = generateurAleatoire.nextInt(100) - 50;
            Y = generateurAleatoire.nextInt(100) - 50;
            for (int j = 0; j < i; j++) {
                if (X == points[j].getX() && Y == points[j].getX()) {
                    break;
                }
                if (j == i - 1) {
                    points[i++] = new Point2D(X, Y);
                    break;
                }
            }
        }
        
        robin.setPos(points[0]);
        peon.setPos(points[1]);
        bugs1.setPos(points[2]);
        bugs2.setPos(points[3]);
        grosBill.setPos(points[4]);
        wolfie.setPos(points[5]);
        
        //copie
        System.out.println("================test copie================");
        guillaumeT = new Archer(robin);
        guillaumeT.setNom("guillaumeT");
        System.out.println("--------------avant-------------");
        guillaumeT.affiche();
        robin.affiche();
        System.out.println("--------------apres-------------");
        robin.deplace();
        guillaumeT.affiche();
        robin.affiche();
        System.out.println("================fin copie================");
        //Test potion function
        System.out.println("================test potion================");
        robin.setPtVie(70);
        PotionSoin potion1 = new PotionSoin();
        PotionSoin potion2 = new PotionSoin();
        robin.getPotionsoin().add(potion1);
        robin.getPotionsoin().add(potion2);
        robin.affiche();
        System.out.println("nombre de potion de robin: " + robin.getPotionsoin().size());
        System.out.println("consumer 1 potion");
        robin.usagePotion(potion2);
        robin.affiche();
        System.out.println("nombre de potion de robin: " + robin.getPotionsoin().size());
        System.out.println("consumer 1 potion");
        robin.usagePotion(potion1);
        System.out.println("nombre de potion de robin: " + robin.getPotionsoin().size());
        robin.usagePotion(potion1);
        robin.affiche();
        System.out.println("================fin de test potion================");
        
             
    }

}
